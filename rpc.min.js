!function(e){"use strict";var r,u=lista,n="/backend.php";r={undef:u.undef,group:u.group,debug:u.debug,error:u.error},u.plugin.rpc=function(u,t,o){if(o=o||!1,o&&r.group("RPC instantiation",u,t),r.undef(u))return r.error("Missing rpc key."),o&&r.group(),!1;if(!t.length)return r.error("Missing rpc methods."),o&&r.group(),!1;var s=this;s.url=n,s.key=u,s.debug=o,e.each(t,function(e,u){!function(e){s.debug&&r.debug("Binding rpc method",e),s[e]=function(r){s.call(e,r)}}(u)}),o&&r.group()},u.plugin.rpc.prototype.call=function(u,n){this.debug&&r.group("Running rpc method",u,n);var t=this,n=n||{},o={jsonrpc:"2.0",method:u,id:t.key};r.undef(n.params)||(o.params=n.params),t.debug&&r.debug("RPC request parameters",o,t),e.ajax({url:t.url,data:JSON.stringify(o),type:"POST",contentType:"application/json",dataType:"json",success:function(u){if(t.debug&&r.group("RPC successful, checking server response",u),!r.undef(u.error)||r.undef(u.result)){t.debug&&r.debug("Response indicated failure");try{u=r.undef(u.responseText)?{}:JSON.parse(u.responseText)}catch(o){t.debug&&r.debug("Couldn't convert response to javascript object"),u={}}return r.undef(n.failure)||(t.debug&&r.debug("Calling custom failure function",n.failure),n.failure(u)),void(t.debug&&r.group())}return e.extend(u,{get:function(e,r){return u.result[1][e][u.result[0][r]]}}),r.undef(n.success)||(t.debug&&r.debug("Calling custom success function",n.success),n.success(u,u.result[1])),t.debug&&r.group(),!0},error:function(e,u,o){return t.debug&&r.group("RPC unsuccessful, checking server response",e,u,o),r.undef(n.error)||(t.debug&&r.debug("Calling custom error function",n.error),n.error(e)),t.debug&&r.group(),!0},complete:function(u,o){t.debug&&r.group("RPC complete",u,o);try{u=r.undef(u.responseText)?{}:JSON.parse(u.responseText)}catch(s){t.debug&&r.debug("Couldn't convert response to javascript object"),u={}}return!r.undef(u.error)||r.undef(u.result)?(o="failed",u.error=u.error||{},u.error.message=u.error.message||"[rpc.js] NÃ¥got gick snett"):e.extend(u,{get:function(e,r){return u.result[1][e][u.result[0][r]]}}),r.undef(n.complete)||(t.debug&&r.debug("Calling custom complete function",n.complete),n.complete(u,o)),t.debug&&r.group(),!0}}),t.debug&&r.group()}}(jQuery);